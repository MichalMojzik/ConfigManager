<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ConfigManager: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ConfigManager
   </div>
   <div id="projectbrief">Knihovna pro spravu konfiguracnich souboru (.ini)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Contents"></a>
Contents</h1>
<ul>
<li><a class="el" href="tutorial.html#tutorial_introduction">Introduction</a></li>
<li><a class="el" href="tutorial.html#tutorial_tests">Tests</a><ul>
<li><a class="el" href="tutorial.html#tutorial_test_cases">Test cases</a></li>
<li><a class="el" href="tutorial.html#tutorial_asserts">Asserts</a></li>
</ul>
</li>
<li><a class="el" href="tutorial.html#tutorial_output_handlers">Output handlers</a><ul>
<li><a class="el" href="tutorial.html#tutorial_available_output_handlers">Available output handlers</a></li>
<li><a class="el" href="tutorial.html#tutorial_screenshots">Screenshots</a></li>
</ul>
</li>
<li><a class="el" href="tutorial.html#tutorial_test_suites">Test suites</a><ul>
<li><a class="el" href="tutorial.html#tutorial_running_test_suites">Running test suites</a></li>
<li><a class="el" href="tutorial.html#tutorial_embedded_test_suites">Embedded test suites</a></li>
<li><a class="el" href="tutorial.html#tutorial_test_fixtures">Test fixtures</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="tutorial_introduction"></a>
Introduction</h1>
<p>CppTest is a portable and powerful, yet simple, unit testing framework for handling automated tests in C++. The focus lies on usability and extendability. Several output formats are supported and new ones are easily added.</p>
<p>This tutorial is intended to quickly get you started.</p>
<p>CppTest is released under the GNU <a href="http://www.gnu.org/copyleft/lesser.html">Lesser General Public License</a>.</p>
<h1><a class="anchor" id="tutorial_tests"></a>
Tests</h1>
<h2><a class="anchor" id="tutorial_test_cases"></a>
Test cases</h2>
<p>Each test must be created and run within a test suite (see <a class="el" href="tutorial.html#tutorial_test_suites">Test suites</a> below), which must be derived from <a class="el" href="class_test_1_1_suite.html" title="Unit testing suite. ">Test::Suite</a>. Tests must be registered with the <a class="el" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD(func)</a> macro inorder to be executed. Note that a test function must return <code>void</code> and take no parameters. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>ExampleTestSuite : <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    ExampleTestSuite()</div><div class="line">    {</div><div class="line">        <a class="code" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD</a>(ExampleTestSuite::first_test)</div><div class="line">        <a class="code" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD</a>(ExampleTestSuite::second_test)</div><div class="line">    }</div><div class="line">    </div><div class="line">private:</div><div class="line">    <span class="keywordtype">void</span> first_test();</div><div class="line">    <span class="keywordtype">void</span> second_test();</div><div class="line">};</div></div><!-- fragment --><h2><a class="anchor" id="tutorial_asserts"></a>
Asserts</h2>
<p>Asserts are used to ensure that the tests are correct. If not, one or more asserts will be generated. There exist several types of asserts, see <a class="el" href="asserts.html">Available asserts</a> for a complete list.</p>
<p>For example, the functions declared within <code>ExampleTestSuite</code> may be declared as:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> ExampleTestSuite::first_test()</div><div class="line">{</div><div class="line">    <span class="comment">// Will succeed since the expression evaluates to true</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <a class="code" href="cpptest-assert_8h.html#ac7dd7b06eb85d9ad841d80cbf217b1f6">TEST_ASSERT</a>(1 + 1 == 2)</div><div class="line">    </div><div class="line">    <span class="comment">// Will fail since the expression evaluates to false</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <a class="code" href="cpptest-assert_8h.html#ac7dd7b06eb85d9ad841d80cbf217b1f6">TEST_ASSERT</a>(0 == 1);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> ExampleTestSuite::second_test()</div><div class="line">{</div><div class="line">    <span class="comment">// Will succeed since the expression evaluates to true</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <a class="code" href="cpptest-assert_8h.html#a9583b1709f4b9dfb3ff2849bfec5c885">TEST_ASSERT_DELTA</a>(0.5, 0.7, 0.3);</div><div class="line">    </div><div class="line">    <span class="comment">// Will fail since the expression evaluates to false</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <a class="code" href="cpptest-assert_8h.html#a9583b1709f4b9dfb3ff2849bfec5c885">TEST_ASSERT_DELTA</a>(0.5, 0.7, 0.1);</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="tutorial_output_handlers"></a>
Output handlers</h1>
<h2><a class="anchor" id="tutorial_available_output_handlers"></a>
Available output handlers</h2>
<p>An output handler takes care of all assert messages and generates some output as result. There exist several output handlers that all fit different needs. Currently, the following output handlers exist:</p><ul>
<li><a class="el" href="class_test_1_1_text_output.html" title="Text output handler that outputs to the a stream. ">Test::TextOutput</a>, which is a simple output handler that outputs its result to standard out in either terse or verbose mode.</li>
<li><a class="el" href="class_test_1_1_compiler_output.html" title="Compiler-like output handler. ">Test::CompilerOutput</a>, which emulates the output of a compiler. This makes it easy to integrate unit testing into your build environment.</li>
<li><a class="el" href="class_test_1_1_html_output.html" title="HTML output. ">Test::HtmlOutput</a>, which outputs a fancy HTML table.</li>
</ul>
<p>New output handlers should be derived from <a class="el" href="class_test_1_1_output.html" title="Test suite output handler. ">Test::Output</a>.</p>
<h2><a class="anchor" id="tutorial_screenshots"></a>
Screenshots</h2>
<p>The result from the different output handlers is shown below:</p>
<ul>
<li><a href="screenshot-text-terse.png">Terse text output</a></li>
<li><a href="screenshot-text-verbose.png">Verbose text output</a></li>
<li><a href="screenshot-compiler.png">Compiler output</a></li>
<li><a href="html-example.html">HTML output</a></li>
</ul>
<h1><a class="anchor" id="tutorial_test_suites"></a>
Test suites</h1>
<h2><a class="anchor" id="tutorial_running_test_suites"></a>
Running test suites</h2>
<p>The tests within a test suite are all executed when <a class="el" href="class_test_1_1_suite.html#ad17746e218da79c537bc9d21e389f570">Test::Suite::run()</a> is called. This method returns a boolean value that only returns true if all tests were successful. This value may be used to return a suiteable value from the program. For example, the following is required to execute our tests within <code>ExampleTestSuite</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="class_test_1_1_text_output.html">Test::TextOutput</a> output(<a class="code" href="class_test_1_1_text_output.html#ae7b22c9458e6c566996bf4517c73feb1a85dd6e42f6261a23fd504201f5cc2792">Test::TextOutput::Verbose</a>);</div><div class="line">ExampleTestSuite ets;</div><div class="line"><span class="keywordflow">return</span> ets.run(output) ? EXIT_SUCCESS : EXIT_FAILURE;</div></div><!-- fragment --><p>Note that a single test normally continues after an assert. However, this behavior may be changed with an optional parameter to <a class="el" href="class_test_1_1_suite.html#ad17746e218da79c537bc9d21e389f570">Test::Suite::run()</a>. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SomeTestSuite: <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    SomeTestSuite() { <a class="code" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD</a>(SomeTestSuite::test) }</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> test()</div><div class="line">    {</div><div class="line">        <a class="code" href="cpptest-assert_8h.html#a947ab44cc42369eb7cfe33f8a1e38e4b">TEST_FAIL</a>(<span class="stringliteral">&quot;this will always fail&quot;</span>)</div><div class="line">        <a class="code" href="cpptest-assert_8h.html#a947ab44cc42369eb7cfe33f8a1e38e4b">TEST_FAIL</a>(&quot;this assert will never be executed&quot;)</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> run_tests()</div><div class="line">{</div><div class="line">    SomeTestSuite sts;</div><div class="line">    <a class="code" href="class_test_1_1_text_output.html">Test::TextOutput</a> output(<a class="code" href="class_test_1_1_text_output.html#ae7b22c9458e6c566996bf4517c73feb1a85dd6e42f6261a23fd504201f5cc2792">Test::TextOutput::Verbose</a>);</div><div class="line">    <span class="keywordflow">return</span> sts.run(output, <span class="keyword">false</span>); <span class="comment">// Note the &#39;false&#39; parameter</span></div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="tutorial_embedded_test_suites"></a>
Embedded test suites</h2>
<p><a class="el" href="namespace_test.html">Test</a> suites may also be added other test suites using <a class="el" href="class_test_1_1_suite.html#a0237b63fc694ecb133d023cf2d6ab271">Test::Suite::add()</a>. This way, you may develop logically separated test suites and run all tests at once. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>TestSuite1: <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a> { }; <span class="comment">// ... with many tests</span></div><div class="line"><span class="keyword">class </span>TestSuite2: <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a> { }; <span class="comment">// ... with many tests</span></div><div class="line"><span class="keyword">class </span>TestSuite3: <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a> { }; <span class="comment">// ... with many tests</span></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> run_tests()</div><div class="line">{</div><div class="line">    <a class="code" href="class_test_1_1_suite.html">Test::Suite</a> ts;</div><div class="line">    ts.<a class="code" href="class_test_1_1_suite.html#a0237b63fc694ecb133d023cf2d6ab271">add</a>(auto_ptr&lt;Test::Suite&gt;(<span class="keyword">new</span> TestSuite1));</div><div class="line">    ts.<a class="code" href="class_test_1_1_suite.html#a0237b63fc694ecb133d023cf2d6ab271">add</a>(auto_ptr&lt;Test::Suite&gt;(<span class="keyword">new</span> TestSuite2));</div><div class="line">    ts.<a class="code" href="class_test_1_1_suite.html#a0237b63fc694ecb133d023cf2d6ab271">add</a>(auto_ptr&lt;Test::Suite&gt;(<span class="keyword">new</span> TestSuite3));</div><div class="line">    </div><div class="line">    <a class="code" href="class_test_1_1_text_output.html">Test::TextOutput</a> output(<a class="code" href="class_test_1_1_text_output.html#ae7b22c9458e6c566996bf4517c73feb1a85dd6e42f6261a23fd504201f5cc2792">Test::TextOutput::Verbose</a>);</div><div class="line">    <span class="keywordflow">return</span> ts.<a class="code" href="class_test_1_1_suite.html#ad17746e218da79c537bc9d21e389f570">run</a>(output);</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="tutorial_test_fixtures"></a>
Test fixtures</h2>
<p><a class="el" href="namespace_test.html">Test</a> cases in the same test suite often share the same requirements, they all require some known set of objects or resources. Instead of repeating all initialization code for each test it may be moved to the <a class="el" href="class_test_1_1_suite.html#afb4c733e6c46a011818bb02f2e8d5bb8">Test::Suite::setup()</a> and <a class="el" href="class_test_1_1_suite.html#a37d3595625cff09b8e43bf6c414ff610">Test::Suite::tear_down()</a> functions. The setup function is called before each test function is called, and the tear down function is called after each test function has been called. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SomeTestSuite: <span class="keyword">public</span> <a class="code" href="class_test_1_1_suite.html">Test::Suite</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    SomeTestSuite() </div><div class="line">    { </div><div class="line">        <a class="code" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD</a>(SomeTestSuite::test1) </div><div class="line">        <a class="code" href="cpptest-suite_8h.html#abe8c3e0a2cf3893ebc1c265264ed9cb8">TEST_ADD</a>(SomeTestSuite::test2) </div><div class="line">    }</div><div class="line">protected:</div><div class="line">    virtual <span class="keywordtype">void</span> setup()     {} <span class="comment">// setup resources... </span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_test_1_1_suite.html#a37d3595625cff09b8e43bf6c414ff610">tear_down</a>() {} <span class="comment">// remove resources...</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> test1() {} <span class="comment">// use common resources...</span></div><div class="line">    <span class="keywordtype">void</span> test2() {} <span class="comment">// use common resources...</span></div><div class="line">};</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
